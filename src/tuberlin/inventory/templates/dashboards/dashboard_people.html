{% extends 'dashboards/base_dashboard.html' %}

{% block title %}
  Geber
{% endblock %}

{% block content %}
  <table id="id_people_table"
         style="width: 100%"
         data-ajax="/api/person/?format=datatables">
    <thead>
      <tr>
        <!-- 0 -->
        <th data-data="link">
          Email
        </th>

        <!-- 1 -->
        <th data-data="updated_at_display">
          Letzte Aktualisierung
        </th>

        <!-- 2 -->
        <th data-data="created_at_display">
          Hergestellt in
        </th>

        <!-- 3 -->
        <th data-data="updated_at"></th>

        <!-- 4 -->
        <th data-data="created_at"></th>
      </tr>
    </thead>
    <tbody>

    </tbody>
  </table>

  <script type="text/javascript">
    $.fn.dataTableExt.pager.numbers_length = 30;

    $(document).ready(function() {
      $("#id_people_table").DataTable({
        "stateSave": false,
        "pagingType": "full_numbers",
        "order": [[3, "desc"]],
        "language": {
            "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/German.json"
        },
        'columnDefs': [
            {
                'orderData':[2], 'targets': [1]
            },
            {
                'orderData':[4], 'targets': [3]
            },
            {
                'targets': [4],
                'visible': false,
                'searchable': false
            },
            {
                'targets': [3],
                'visible': false,
                'searchable': false
            },
        ],
      });
    });
  </script>
{% endblock %}